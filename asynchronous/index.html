<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>asynchronous</title>
</head>
<body>

    <h1 style="color: aquamarine; position: relative;">Asynchronous javaScript</h1>

    <script>
        // /***********Asynchronous*************/
        // // function getRecipe(){
        // //     setTimeout(()=>{
        // //         const recipeId = [101,201,301,401,501];
        // //         console.log(recipeId);

        // //         setTimeout(id => {
        // //             const recipe = {title: 'Fresh tomato pasta', publisher: 'jonas'};
        // //             console.log(`${id}: ${recipe.title}`);
                    
        // //             setTimeout(publisher => {
        // //                 const recipe2 = {title: 'Italian pizza', publisher: 'jonas'};
        // //                 console.log(recipe2);
        // //             },1500, recipe.publisher);

        // //         },1500, recipeId[3]);

        // //     },1500);
        // // }
        
        //  // getRecipe();

        // /***********Promises*************/

        // const getIDs = new Promise((resolve, reject)=>{
        //     setTimeout(() => {
        //         resolve([101,201,301,401,501]);
        //     },1500);
        // });

        // const getRecipe = recipeID =>{
        //     return new Promise((resolve, reject) =>{
        //         setTimeout(ID => {
        //             const recipe = {title: 'Fresh tomato pasta', publisher: 'jonas'};
        //             resolve(`${ID}: ${recipe.title}`);
                    
        //         }, 1500, recipeID);
        //     });
        // };

        // const getRelated = publisher => {
        //     return new Promise((resolve, reject) =>{
        //         setTimeout(pub =>{
        //             const recipe = {title: 'Italian pizza', publisher: 'jonas'};
        //             resolve(`${pub}: ${recipe.title}`);
        //         }, 1500, publisher);
        //     });
        // };

        // // getIDs.
        // // then(ids=>{
        // //     console.log(ids);
        // //     return getRecipe(ids[2]);
        // // })
        // // .then(recipe => {
        // //     console.log(recipe);
        // //     return getRelated('saikat bhuiyan');
        // // })
        // // .then(recipe => {
        // //     console.log(recipe);
        // // })
        // // .catch(error => {
        // //     console.log('Error');
        // // });

        // /***********AsyncAwait*************/

        // async function getRecipeAw(){
        //     const IDs = await getIDs;
        //     console.log(IDs);
        //     const recipe = await getRecipe(IDs[4]);
        //     console.log(recipe);
        //     const related = await getRelated('Shahabuddin Bhuiyan');
        //     console.log(related);

        //     return recipe;
        // }
        // getRecipeAw().then(result => console.log(`$(result) is best evere!`));



        function getWeather(woeid){
            fetch(`https://crossorigin.me/https://www.metaweather.com/api/location/${woeid}/`)

            .then(result => {
                    console.log(result);
                    return result.json();
            })
            .then(data => {
                // console.log(data);
                const today = data.consolidated_weather[0];
                console.log(`Temperatures in ${data.title} stay between
                ${today.min_temp} and ${today.max_temp}.`)
            })
            .catch(error => console.log(error));

        }
        getWeather(2487956);
        



    </script>
    
</body>
</html>